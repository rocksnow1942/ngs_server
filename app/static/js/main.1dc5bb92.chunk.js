(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{12:function(e,t,n){e.exports=n(13)},13:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(11),o=n(1),i=n(7),s=n(2),l=n(3),u=n(5),c=n(4),h=n(6),m=n(0),d=n.n(m),v=n(10),f=n.n(v);n(18),n(19);function p(e){var t=e.isinit?"black":e.ishint?"green":"blue",n=0!==e.value?e.value:"",r=e.backgroundColor,a=e.isinit?null:e.ishint?null:e.onClick;return d.a.createElement("div",{className:"square"},d.a.createElement("button",{className:"square-inside",onClick:a,onMouseEnter:e.onHover,onMouseLeave:function(){e.onHover(null)},style:{color:t,backgroundColor:r}},n))}var k=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e,t=this,n=this.props.fill,r=[],a=Object(i.a)(this.props.hovering,2),o=a[0],s=a[1],l=function(a){var l=E(t.props.sec,a),u=Object(i.a)(l,2),c=u[0],h=u[1];e=t.props.isvalid[a]?o===c&&s===h?"#DDDDDD":o===c||s===h?"#F5F5F5":"#fff":"#FF666F",r.push(d.a.createElement(p,{key:a,value:n[a],isinit:t.props.init[a],ishint:t.props.hint[a],onClick:function(e){return t.props.onClick(a,t.props.sec,e)},onHover:function(e){null!==e?t.props.onHover(c,h):t.props.onHover(-1,-1)},backgroundColor:e,isvalid:t.props.isvalid[a]}))},u=0;u<9;u++)l(u);return d.a.createElement("div",{className:"three-board"},d.a.createElement("div",{className:"board-row"},r.slice(0,3)),d.a.createElement("div",{className:"board-row"},r.slice(3,6)),d.a.createElement("div",{className:"board-row"},r.slice(6,9)))}}]),t}(d.a.Component),b=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=[],t=0,n=[0,1,2];t<n.length;t++)for(var r=n[t],a=0,o=[0,1,2];a<o.length;a++){var i=o[a];e.push(d.a.createElement(k,{key:3*r+i,fill:this.props.sudoku.getThreeByThree(r,i),sec:[r,i],onClick:this.props.onClick,onHover:this.props.onHover,hovering:this.props.hovering,init:this.props.sudoku.getThreeByThreeInit(r,i),hint:this.props.sudoku.getThreeByThreeHint(r,i),isvalid:this.props.sudoku.getThreeByThreeValid(r,i)}))}return d.a.createElement("div",{className:"sudoku"},d.a.createElement("div",{className:"board-row"},e.slice(0,3)),d.a.createElement("div",{className:"board-row"},e.slice(3,6)),d.a.createElement("div",{className:"board-row"},e.slice(6,9)))}}]),t}(d.a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.props.show?d.a.createElement("div",{className:"backdrop"},d.a.createElement("div",{className:"modal"},d.a.createElement("div",{align:"center",style:{height:"40%"}},this.props.children),d.a.createElement("hr",null),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"six columns",align:"right"},d.a.createElement("button",{onClick:function(){e.props.onClose(!0)}},"Yes")),d.a.createElement("div",{className:"six columns",align:"left"},d.a.createElement("button",{onClick:function(){e.props.onClose(!1)}},"No"))))):null}}]),t}(d.a.Component),g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={mode:n.props.game.state.mode,modalOpen:!1,modalOnClose:null,modalContent:null,message:"",solution:[],currentShowing:0},n.resetGame=n.resetGame.bind(Object(o.a)(n)),n.selectMode=n.selectMode.bind(Object(o.a)(n)),n.newGame=n.newGame.bind(Object(o.a)(n)),n.solveGame=n.solveGame.bind(Object(o.a)(n)),n.clearMenu=n.clearMenu.bind(Object(o.a)(n)),n.showSolutions=n.showSolutions.bind(Object(o.a)(n)),n.showHint=n.showHint.bind(Object(o.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"clearMenu",value:function(){this.setState({message:"",solution:[],currentShowing:0})}},{key:"solveGame",value:function(){var e=this;this.setState({modalOpen:!0,modalOnClose:function(t){if(t){var n=e.props.game.state.sudoku,r=[];n.cheated=!0,n.solveGame((function(e){r.push(e)}),(function(){return r.length>10})),1===r.length?e.props.game.setState({sudoku:n.setState(r[0])}):0===r.length?e.setState({message:d.a.createElement("h5",{style:{margin:"auto"}},"No solution found.")}):(e.props.game.setState({sudoku:n.setState(r[0])}),e.setState({solution:r,currentShowing:0,message:d.a.createElement("h5",{style:{margin:"auto"}},"Multiple solutions.")}))}e.setState({modalOpen:!1})},modalContent:d.a.createElement("h3",null,"Want to give up?")})}},{key:"showHint",value:function(){var e=this.props.game,t=null;M(e.state.sudoku.init,(function(e){t=e}),(function(){return null!==t}));for(var n=function(n){for(var r=function(r){var a=e.state.sudoku.current[n][r];if(0!==a&&a!==t[n][r])return e.setState((function(e){var a=e.sudoku;return a.hint[n][r]=a.current[n][r]=t[n][r],{sudoku:a}})),{v:{v:void 0}}},a=0;a<9;a++){var o=r(a);if("object"===typeof o)return o.v}},r=0;r<9;r++){var a=n(r);if("object"===typeof a)return a.v}if(e.state.showMenu.position){var o=E(e.state.showMenu.position.sector,e.state.showMenu.position.index),s=Object(i.a)(o,2),l=s[0],u=s[1];e.setState((function(e){var n=e.sudoku;return n.hint[l][u]=n.current[l][u]=t[l][u],{sudoku:n}}))}}},{key:"resetGame",value:function(){var e=this;this.setState({modalOpen:!0,modalOnClose:function(t){t&&(e.clearMenu(),e.props.game.setState((function(e){return{sudoku:e.sudoku.resetGame()}}))),e.setState({modalOpen:!1})},modalContent:d.a.createElement("h3",null,"Want to reset the current game?")})}},{key:"newGame",value:function(){var e=this;this.setState({modalOpen:!0,modalOnClose:function(t){t&&(e.clearMenu(),e.props.game.setState((function(e){return{sudoku:e.sudoku.newGame(e.mode)}}))),e.setState({modalOpen:!1})},modalContent:d.a.createElement("h3",null,"Want to start a new game?")})}},{key:"selectMode",value:function(e){var t=e.target.textContent.toLowerCase();this.props.game.setState({mode:t}),this.setState({mode:t})}},{key:"showSolutions",value:function(e){var t=this.state.currentShowing+e;t<this.state.solution.length&&t>0&&(this.props.game.setState({sudoku:this.props.game.state.sudoku.setState(this.state.solution[t])}),this.setState({currentShowing:t}))}},{key:"render",value:function(){var e=this,t=null;return this.state.solution.length>1&&(t=d.a.createElement("div",null,d.a.createElement("button",{onClick:function(){return e.showSolutions(-1)}},"Prev"),d.a.createElement("button",{onClick:function(){return e.showSolutions(1)}},"Next"))),d.a.createElement("div",{className:"gamemenu"},d.a.createElement(y,{show:this.state.modalOpen,onClose:this.state.modalOnClose},this.state.modalContent),d.a.createElement("button",{className:"button",onClick:this.resetGame},"Reset"),d.a.createElement("button",{onClick:this.newGame},"New Game"),d.a.createElement("button",{onClick:this.showHint},"Hint"),d.a.createElement("button",{onClick:this.solveGame},"Solve"),d.a.createElement("button",{onClick:this.selectMode,className:"easy"===this.state.mode?"selected":null},"Easy"),d.a.createElement("button",{onClick:this.selectMode,className:"normal"===this.state.mode?"selected":null},"Normal"),d.a.createElement("button",{onClick:this.selectMode,className:"hard"===this.state.mode?"selected":null},"Hard"),d.a.createElement("button",{onClick:this.selectMode,className:"expert"===this.state.mode?"selected":null},"Expert"),this.state.message?this.state.message:null,t)}}]),t}(d.a.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=[],n=function(n){t.push(d.a.createElement("div",{key:n,className:"square"},d.a.createElement("button",{className:"square-inside",onClick:function(){return e.props.onClick(n,e.props.showMenu.position)},style:{background:"aqua",lineHeight:"20px"}},n)))},r=1;r<10;r++)n(r);return d.a.createElement("div",{className:"inputmenu",style:this.props.showMenu.style},d.a.createElement("div",{className:"board-row"},t.slice(0,3)),d.a.createElement("div",{className:"board-row"},t.slice(3,6)),d.a.createElement("div",{className:"board-row"},t.slice(6,9)),d.a.createElement("div",{className:"square",style:{margin:"0px",paddingTop:"30%"}},d.a.createElement("button",{className:"square-inside",onClick:function(){return e.props.onClick(0,e.props.showMenu.position)},style:{background:"aqua",lineHeight:"20px"}},"Clear")))}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.props.removeInputMenu)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.props.removeInputMenu)}}]),t}(d.a.Component);function E(e,t){return[3*e[0]+Math.floor(t/3),3*e[1]+t%3]}function w(e){return e=e.filter((function(e){return 0!==e})),new Set(e).size===e.length}function C(e,t,n,r){for(var a=e[t],o=e.map((function(e){return e[n]})),i=[],s=Math.floor(t/3),l=Math.floor(n/3),u=0;u<3;u++)for(var c=0;c<3;c++)i.push(e[u+3*s][c+3*l]);return!a.includes(r)&&!o.includes(r)&&!i.includes(r)}function S(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){if(a.value.includes(0))return!1}}catch(i){n=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return!0}function j(e){var t=[1,2,3,4,5,6,7,8,9];!function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}}(t);for(var n=!1,r=0;r<e.length;r++){for(var a=0;a<e[r].length;a++)if(0===e[r][a]){var o=!0,i=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(C(e,r,a,c)){if(e[r][a]=c,S(e))return!0;if(j(e))return!0}}}catch(h){i=!0,s=h}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}n=!0,e[r][a]=0;break}if(n)break}}function M(e,t,n){if(!n()){for(var r=0;r<e.length;r++)for(var a=0;a<e[r].length;a++)if(0===e[r][a]){for(var o=1;o<10;o++)C(e,r,a,o)&&(e[r][a]=o,M(e,t,n)),e[r][a]=0;return}t(JSON.parse(JSON.stringify(e)))}}var N=function(){function e(){Object(s.a)(this,e),this.init=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],this.current=JSON.parse(JSON.stringify(this.init)),this.hint=Array(9).fill(0).map((function(e){return Array(9).fill(0)})),this.cheated=!1,this.solveGame=this.solveGame.bind(this)}return Object(l.a)(e,[{key:"setState",value:function(e){return this.current=e,this}},{key:"generateArray",value:function(e){var t={easy:1,normal:5,hard:10,expert:15}[e],n=Array(9).fill(0).map((function(e){return Array(9).fill(0)}));j(n);for(var r=function(){var e=Math.floor(9*Math.random()),r=Math.floor(9*Math.random()),a=n[e][r];n[e][r]=0;var o=0;M(n,(function(){o+=1}),(function(){return o>1})),o>1&&(n[e][r]=a,t-=1)};t>0;)r();return n}},{key:"resetGame",value:function(){return this.current=JSON.parse(JSON.stringify(this.init)),this.hint=Array(9).fill(0).map((function(e){return Array(9).fill(0)})),this.cheated=!1,this}},{key:"newGame",value:function(e){return this.cheated=!1,this.init=this.generateArray(e),this.hint=Array(9).fill(0).map((function(e){return Array(9).fill(0)})),this.current=JSON.parse(JSON.stringify(this.init)),this}},{key:"solveGame",value:function(e,t){var n=[1,2,3,4,5,6,7,8,9];if(!t()){var r=!0,a=!1,o=void 0;try{for(var i,s=this.cells[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value,u=l.row,c=l.col;if(0===l.number){var h=!0,m=!1,d=void 0;try{for(var v,f=n[Symbol.iterator]();!(h=(v=f.next()).done);h=!0){var p=v.value;this.current[u][c]=p,this.validatePosition(u,c)&&this.solveGame(e,t)}}catch(k){m=!0,d=k}finally{try{h||null==f.return||f.return()}finally{if(m)throw d}}return this.current[u][c]=0,!1}}}catch(k){a=!0,o=k}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}e(JSON.parse(JSON.stringify(this.current)))}}},{key:"fillNumber",value:function(e,t,n){var r=E(e,t),a=Object(i.a)(r,2),o=a[0],s=a[1];return this.current[o][s]=n,this}},{key:"validatePosition",value:function(e,t){return w(this.getRow(e))&&w(this.getCol(t))&&w(this.getSector(e,t))}},{key:"getRow",value:function(e){return this.current[e]}},{key:"getCol",value:function(e){return this.current.map((function(t){return t[e]}))}},{key:"getSector",value:function(e,t){return this.getThreeByThree.apply(this,Object(a.a)(function(e,t){var n=Math.floor(e/3),r=Math.floor(t/3);return[[n,r],e-3*n+3*(t-3*r)]}(e,t)[0]))}},{key:"checkWon",value:function(){if(this.cheated)return!1;var e=!0,t=!1,n=void 0;try{for(var r,a=this.cells[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value,i=o.row,s=o.col;if(0===o.number)return!1;if(!this.validatePosition(i,s))return!1}}catch(l){t=!0,n=l}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}return!0}},{key:"getThreeByThree",value:function(e,t){for(var n=[],r=0;r<3;r++)for(var a=0;a<3;a++)n.push(this.current[r+3*e][a+3*t]);return n}},{key:"getThreeByThreeInit",value:function(e,t){for(var n=[],r=0;r<3;r++)for(var a=0;a<3;a++)n.push(0!==this.init[r+3*e][a+3*t]);return n}},{key:"getThreeByThreeHint",value:function(e,t){for(var n=[],r=0;r<3;r++)for(var a=0;a<3;a++)n.push(0!==this.hint[r+3*e][a+3*t]);return n}},{key:"getThreeByThreeValid",value:function(e,t){for(var n=[],r=0;r<3;r++)for(var a=0;a<3;a++)n.push(this.validatePosition(r+3*e,a+3*t));return n}},{key:"cells",get:function(){var e=this.current;return Object(r.a)({},Symbol.iterator,(function(){return{index:0,next:function(){if(81===this.index)return{done:!0};var t=Math.floor(this.index/9),n=this.index%9,r=e[t][n];return this.index++,{value:{row:t,col:n,number:r},done:!1}}}}))}}]),e}(),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={sudoku:new N,showMenu:!1,hovering:[-1,-1],mode:"easy"},n.history=[],n.handleBoardClick=n.handleBoardClick.bind(Object(o.a)(n)),n.removeInputMenu=n.removeInputMenu.bind(Object(o.a)(n)),n.handleBoardHover=n.handleBoardHover.bind(Object(o.a)(n)),n.handleMenuClick=n.handleMenuClick.bind(Object(o.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleBoardClick",value:function(e,t,n){var r=n.clientX,a=n.clientY;this.setState({currentFocus:{index:e,sector:t},showMenu:{style:{left:r-50,top:a-50},position:{index:e,sector:t}}})}},{key:"handleBoardHover",value:function(e,t){this.setState({hovering:[e,t]})}},{key:"removeInputMenu",value:function(e){this.setState({showMenu:!1})}},{key:"handleMenuClick",value:function(e,t){var n=t.index,r=t.sector;this.setState((function(t,a){return{sudoku:t.sudoku.fillNumber(r,n,e)}}))}},{key:"render",value:function(){return d.a.createElement("div",{className:"container"},d.a.createElement("h1",{align:"center"},"Sudoku Game "),d.a.createElement("div",{className:"game"},d.a.createElement(b,{sudoku:this.state.sudoku,hovering:this.state.hovering,onClick:this.handleBoardClick,onHover:this.handleBoardHover}),this.state.showMenu?d.a.createElement(O,{showMenu:this.state.showMenu,onClick:this.handleMenuClick,removeInputMenu:this.removeInputMenu}):null,d.a.createElement("div",{className:"game-info"},this.state.sudoku.checkWon()?d.a.createElement("h1",null,"You Won!"):null,d.a.createElement(g,{game:this}))))}}]),t}(d.a.Component);f.a.render(d.a.createElement(x,null),document.getElementById("root"))},18:function(e,t,n){},19:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.1dc5bb92.chunk.js.map