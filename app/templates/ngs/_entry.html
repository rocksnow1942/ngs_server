<table class="table table-hover" id="browse_content_table">
    <tr>
        <th width="50px">
            ID
        </th>
        <th width = "400px">
            {{ table.upper() }}
        </th>
        <th></th>
    </tr>

    {% for entry in entries %}
    <tr id="{{entry.__tablename__}}_{{entry.id}}">
        <td width="50px">
            {% if entry.haschildren() and nextcontent %}
                <a href="{{ url_for('ngs.browse', table=nextcontent, id=entry.id ) }}">
                    {{ entry.id_display }}
                    </a>
            {%else%}
            {{entry.id_display}}
            {% endif %}
        </td>
        <td>
            <li><a href="{{url_for('ngs.details',table=entry.__tablename__,id=entry.id|string)}}"><b>{{entry.display()[0]}}</b></a></li>
            {% for line in entry.display()[1:] %}
                    <li>{{line}}</li>
            {% endfor %}
        </td>
        {% if entry.__tablename__=='ngs_sample_group' %}
        <td >
            {% set uploadto %}{{ entry.id }}{% endset %}
            {% include 'upload/uploadwidget.html'%}
            {% if entry.processed %}
            <button class="btn btn-default disabled" type="button"><span class="glyphicon glyphicon-qrcode" aria-hidden="true"></span> Already Processed</button>
            <a class="btn btn-default" href="javascript:start_ngs_data_parsing('{{entry.id}}','retract')" 
            onclick="return confirm('Sure want to RETRACT the commit? This cannot be undone.')" role="button">
                <span class="glyphicon glyphicon-barcode" aria-hidden="true"></span> Retract Commit</a>
            {% elif entry.task_id %}
            <div class="progress ">
                <div class="progress-bar progress-bar-striped active" id="{{entry.__tablename__+':'+entry.id|string}}" role="progressbar"
                    aria-valuenow="{{entry.progress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{entry.progress}}%">
              {{entry.progress}}%
             </div>
            </div>
            {% elif entry.datafile %}
            <div class='row'>
                <div class='col-md-4'>
            <a class="btn btn-default" href="javascript:start_ngs_data_parsing('{{entry.id}}','true')" role="button">
            <span class="glyphicon glyphicon-qrcode" aria-hidden="true"></span> Process And Commit</a></div>
            <div class='col-md-4'>
            <a class="btn btn-default" href="javascript:start_ngs_data_parsing('{{entry.id}}','false')" 
            onclick="return confirm('Sure want to process without commit to database?')" role="button">
                <span class="glyphicon glyphicon-barcode" aria-hidden="true" ></span> Process No Commit</a>
                </div>
                <div class='col-md-4'><input class="form-control" id="commit_threshold_{{entry.id}}" value="" placeholder="Threshold, default 2"></div>
            </div>
            {% endif %}
        </td>
        {% endif %}

        <td width = '70px'>
        <div class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="glyphicon glyphicon-tasks" aria-hidden="true"></span> Option
          </button>
          <ul class="dropdown-menu">
            <li><a href="{{url_for('ngs.details',table=entry.__tablename__,id=entry.id|string)}}">Details</a></li>
            <li><a href="{{url_for('ngs.edit',toadd=entry.__tablename__,id=entry.id|string)}}">Edit</a></li>
            {% if table=='selection' or table=='round' %}
            <li><a href="javascript:add_to_analysis('{{entry.__tablename__}}',{{entry.id}});">Add To Analysis</a></li>
            {% endif %}
            <li role="separator" class="divider"></li>
            <li><a href="{{url_for('ngs.delete',table=entry.__tablename__,todelete=entry.id)}}" onclick="return confirm('Sure to delete {{entry.__repr__()}}?')">Delete</a></li>
          </ul>
        </div>
        </td>


    </tr>
    {% endfor %}
</table>

