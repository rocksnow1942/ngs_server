{% extends 'ngs/browse_base.html' %}

{% block browse_content %}


<h1>ANALYSIS - {{'< '+analysis.__repr__()+' >' }}</h1>
<div>

    <div class="row">
        <h3 align='center'>Cluster {{cluster}}</h3>
        <div class="col-xs-6 col-md-6">
            <div class="thumbnail alert-success well-lg">
                <img src="{{url_for('ngs.analysis_image',id=analysis.id,funcname='plot_logo',cluster=cluster)}}"
                    class="img-responsive" alt="Responsive image">
            </div>
        </div>
        <div class="col-xs-6 col-md-6">
            <div class="thumbnail  alert-success well-lg">
                <h4>Cluster {{cluster}} Info:</h4>
                <li>Total Count: {{clusterinfo[0]}}</li>
                <li>Unique Count: {{clusterinfo[1]}}</li>
                <li>Align Score: {{clusterinfo[2]}}</li>
            </div>
        </div>
    </div>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <table class='table table-condensed table-bordered' style="line-height: 0;">
            <thead>
                <tr>
                    <th colspan="3">
                        <h4 align='center'>Cluster {{cluster}} Sequences</h4>
                    </th>
                </tr>
            </thead>
            <tr>
                <th width='80px' style="text-align: center;">ID</th>
                <th width='600px' style="text-align: center;">Sequence</th>
                <th width='50px' style="text-align: center;">Count</th>
            </tr>
            
            {% for row in clusters %}
            <tr>
                <td style="text-align: center;"><a href="{{url_for('ngs.details',table='sequence_round',id=row[0].id|string)}}">{{row[0].id_display}}</a></td>
                <td style="text-align: center;">{% for character in row[1] %}<span class='sequence' style="color:white;background-color:{{colordict[character]}};font-family:monospace">{{character}}</span>{% endfor %}</td>
                <td style="text-align: right;">{{row[2]}}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
</div>



</div>

{% endblock %}
